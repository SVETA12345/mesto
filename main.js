(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var n,r;return n=e,(r=[{key:"openPopup",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&e.closePopup(),t.target.classList.contains("popup__close")&&e.closePopup()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(p,e);var t,n,c,a,s=(c=p,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(c);if(a){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=s.call(this,e))._popupPhoto=document.querySelector(".popup__photo"),t._popupPhotoSubtitle=document.querySelector(".popup__subtitle"),t}return t=p,(n=[{key:"openPopup",value:function(e,t){this._popupPhoto.src=t,this._popupPhoto.alt=e,this._popupPhotoSubtitle.textContent=e,i(l(p.prototype),"openPopup",this).call(this)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(n),a={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var f=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._templateSelector=n,this._name=t.name,this._image=t.link,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".place").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".place__photo"),this._setEventListeners(),this._cardImage.src=this._image,this._cardImage.alt=this._name,this._element.querySelector(".place__title").textContent=this._name,this._element}},{key:"_toggleLike",value:function(e){e.target.classList.toggle("place__like_active")}},{key:"_deleteCard",value:function(){this._element.remove()}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",(function(){e._handleCardClick()})),this._element.querySelector(".place__like").addEventListener("click",(function(t){e._toggleLike(t)})),this._element.querySelector(".place__close").addEventListener("click",(function(){e._deleteCard()}))}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formsConfig=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._formsConfig.inputSelector)),this._btnSaveElement=this._formElement.querySelector(this._formsConfig.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_inputValid",value:function(e){e.validity.valid?this._hideInputError(e):(this._showInputError(e,e.validationMessage),this._disableButton())}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"_setEventListeners",value:function(){var e=this;this._disableButton(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._inputValid(t),e._inputList.every((function(e){return e.validity.valid}))&&e._enableButton()}))}))}},{key:"_showInputError",value:function(e,t){var n=document.querySelector(".".concat(e.id,"-error"));e.classList.add(this._formsConfig.inputErrorClass),n.textContent=t,n.classList.add(this._formsConfig.errorClass)}},{key:"_disableButton",value:function(){this._btnSaveElement.classList.add(this._formsConfig.inactiveButtonClass),this._btnSaveElement.setAttribute("disabled","disabled")}},{key:"_enableButton",value:function(){this._btnSaveElement.classList.remove(this._formsConfig.inactiveButtonClass),this._btnSaveElement.removeAttribute("disabled")}},{key:"_hideInputError",value:function(e){var t=document.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._formsConfig.inputErrorClass),t.textContent="",t.classList.remove(this._formsConfig.errorClass)}},{key:"resetValidation",value:function(){var e=this;this._disableButton(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}var _=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}},{key:"setItem",value:function(e){this._container.prepend(e)}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===h(o)?o:String(o)),r)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=r,n._inputList=n._popupSelector.querySelectorAll(".popup__input"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"_close",value:function(e){g(P(u.prototype),"closePopup",this).call(this),e.target.reset()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e._close(t)})),g(P(u.prototype),"setEventListeners",this).call(this)}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(n);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var O=function(){function e(t){var n=t.selectorName,r=t.selectorJob;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameProfile=document.querySelector(n),this._jobProfile=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameProfile.textContent,job:this._jobProfile.textContent}}},{key:"setUserInfo",value:function(e){this._nameProfile.textContent=e.name,this._jobProfile.textContent=e.job}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),C=document.querySelector(".popup_type_card"),L=document.querySelector(".popup_type_profile"),q=document.querySelector(".profile__edit"),I=(document.querySelector(".popup__close"),document.querySelector(".profile__name"),document.querySelector(".profile__second-name"),document.querySelector(".form_profile_name"),document.querySelector(".form__name_theme_first")),T=document.querySelector(".form__name_theme_job"),x=(document.querySelector(".places"),document.querySelector(".profile__add")),R=new d(a,C),B=new d(a,L);function V(e){var t=function(e){return new f(e,".template",(function(){N.openPopup(e.name,e.link)})).generateCard()}(e);A.setItem(t)}var A=new _({data:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:V},".places");A.renderItems();var D=new O({selectorName:".profile__name",selectorJob:".profile__second-name"}),F=new E(".popup_type_profile",{handleFormSubmit:function(e){return D.setUserInfo(e)}}),U=new E(".popup_type_card",{handleFormSubmit:function(e){return V(e)}}),N=new c(".popup_type_image");q.addEventListener("click",(function(){var e=D.getUserInfo();I.value=e.name,T.value=e.job,F.openPopup(),B.resetValidation()})),R.enableValidation(),B.enableValidation(),x.addEventListener("click",(function(){R.resetValidation(),U.openPopup()})),F.setEventListeners(),U.setEventListeners(),N.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qy9CbEIsRUFBVTFHLE1BQVEySCxFQUFXekcsS0FDN0J5RixFQUFTM0csTUFBUTJILEVBQVdyQixJQUM1QmtCLEVBQVlQLFlBQ1pILEVBQWFlLGlCQUNmLElBTUFoQixFQUFXaUIsbUJBRVhoQixFQUFhZ0IsbUJBQ2JsQixFQUFhekcsaUJBQWlCLFNBQVMsV0FDckMwRyxFQUFXZ0Isa0JBQ1hILEVBQVVULFdBQ1osSUFFQU8sRUFBWU8sb0JBQ1pMLEVBQVVLLG9CQUVWZixFQUFlZSxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWt0aWt1bS8uL3NyYy9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWt0aWt1bS8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWt0aWt1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJha3Rpa3VtLy4vc3JjL3NjcmlwdHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFrdGlrdW0vLi9zcmMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWt0aWt1bS8uL3NyYy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJha3Rpa3VtLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFrdGlrdW0vLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFrdGlrdW0vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpXHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcclxuICB9XHJcbiAgb3BlblBvcHVwKCl7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyx0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlUG9wdXAoKXtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpe1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7ICBcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKClcclxuICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCk9PntcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcclxuICAgICAgICB0aGlzLl9wb3B1cFBob3RvPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waG90b1wiKTtcclxuICAgICAgICB0aGlzLl9wb3B1cFBob3RvU3VidGl0bGU9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1YnRpdGxlXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIG9wZW5Qb3B1cChuYW1lLGxpbmspe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwUGhvdG8uc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9wb3B1cFBob3RvLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBQaG90b1N1YnRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICBzdXBlci5vcGVuUG9wdXAoKVxyXG4gICAgICB9XHJcbiAgICBcclxufSIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwi0JDRgNGF0YvQt1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcclxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcclxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCLQkdCw0LnQutCw0LtcIixcclxuICAgICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxyXG4gICAgfSxcclxuICBdO1xyXG4gIGV4cG9ydCBjb25zdCBmb3Jtc0NvbmZpZz17XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXHJcbiAgfSIsImV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2ltYWdlID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX3Bob3RvXCIpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbiAgX3RvZ2dsZUxpa2UoZXZ0KSB7XHJcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwbGFjZV9fbGlrZV9hY3RpdmVcIik7XHJcbiAgfVxyXG4gIF9kZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl90b2dnbGVMaWtlKGV2dClcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19jbG9zZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9kZWxldGVDYXJkKCk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybXNDb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3Jtc0NvbmZpZyA9IGZvcm1zQ29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZm9ybXNDb25maWcuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9idG5TYXZlRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX2Zvcm1zQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuICBfaW5wdXRWYWxpZChpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRWYWxpZChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1Jc1ZhbGlkID0gdGhpcy5faW5wdXRMaXN0LmV2ZXJ5KFxyXG4gICAgICAgICAgKHsgdmFsaWRpdHkgfSkgPT4gdmFsaWRpdHkudmFsaWRcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChmb3JtSXNWYWxpZCkge1xyXG4gICAgICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Zvcm1zQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9mb3Jtc0NvbmZpZy5lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgX2Rpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idG5TYXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Zvcm1zQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnRuU2F2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcclxuICB9XHJcbiAgX2VuYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J0blNhdmVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgIHRoaXMuX2Zvcm1zQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3NcclxuICAgICk7XHJcbiAgICB0aGlzLl9idG5TYXZlRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICB9XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZm9ybXNDb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9mb3Jtc0NvbmZpZy5lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHtkYXRhLHJlbmRlcmVyfSxjb250YWluZXJTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtcz1kYXRhO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyPXJlbmRlcmVyO1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKVxyXG4gICAgfVxyXG4gICAgcmVuZGVySXRlbXMoKXtcclxuICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pPT57XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBzZXRJdGVtKGVsZW1lbnQpe1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICB9XHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgLy8g0YHQvtC30LTQsNGR0Lwg0L/Rg9GB0YLQvtC5INC+0LHRitC10LrRglxyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG5cclxuICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQsiDRjdGC0L7RgiDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjRjyDQstGB0LXRhSDQv9C+0LvQtdC5XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0LLQvtC30LLRgNCw0YnQsNC10Lwg0L7QsdGK0LXQutGCINC30L3QsNGH0LXQvdC40LlcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuICBfY2xvc2UoZXZ0KSB7XHJcbiAgICBzdXBlci5jbG9zZVBvcHVwKCk7XHJcbiAgICBldnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIC8vINC00L7QsdCw0LLQuNC8INCy0YvQt9C+0LIg0YTRg9C90LrRhtC40LggX2hhbmRsZUZvcm1TdWJtaXRcclxuICAgICAgLy8g0L/QtdGA0LXQtNCw0LTQuNC8INC10Lkg0L7QsdGK0LXQutGCIOKAlCDRgNC10LfRg9C70YzRgtCw0YIg0YDQsNCx0L7RgtGLIF9nZXRJbnB1dFZhbHVlc1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLl9jbG9zZShldnQpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpXHJcbiAgfVxyXG59XHJcbiIsIlxyXG5leHBvcnQgY2xhc3MgVXNlckluZm97XHJcbiAgICBjb25zdHJ1Y3Rvcih7c2VsZWN0b3JOYW1lLHNlbGVjdG9ySm9ifSl7XHJcblxyXG4gICAgICAgIHRoaXMuX25hbWVQcm9maWxlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JOYW1lKVxyXG4gICAgICAgIHRoaXMuX2pvYlByb2ZpbGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckpvYilcclxuICAgIH1cclxuICAgIGdldFVzZXJJbmZvKCl7XHJcbiAgICAgICAgcmV0dXJue25hbWU6dGhpcy5fbmFtZVByb2ZpbGUudGV4dENvbnRlbnQsam9iOnRoaXMuX2pvYlByb2ZpbGUudGV4dENvbnRlbnR9XHJcbiAgICB9XHJcbiAgICBzZXRVc2VySW5mbyhpdGVtKXtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9uYW1lUHJvZmlsZS50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZTtcclxuICAgICAgICB0aGlzLl9qb2JQcm9maWxlLnRleHRDb250ZW50ID0gaXRlbS5qb2I7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgXCIuL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9zY3JpcHRzL1BvcHVwLmpzXCI7XHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgZm9ybXNDb25maWcgfSBmcm9tIFwiLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuL3NjcmlwdHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4vc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi9zY3JpcHRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuL3NjcmlwdHMvVXNlckluZm8uanNcIjtcclxuXHJcbmNvbnN0IHBvcHVwTWVzdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfY2FyZFwiKTtcclxuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIik7XHJcbmNvbnN0IGJ0bk9wZW5FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdFwiKTtcclxuY29uc3QgY2xvc2VQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XHJcbmNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IGpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc2Vjb25kLW5hbWVcIik7XHJcbmNvbnN0IGZvcm1FbGVtZW50UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9wcm9maWxlX25hbWVcIik7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fbmFtZV90aGVtZV9maXJzdFwiKTtcclxuY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX25hbWVfdGhlbWVfam9iXCIpO1xyXG5jb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzXCIpO1xyXG5jb25zdCBtZXN0b0J0bk9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZFwiKTtcclxuY29uc3QgdmFsaWRNZXN0byA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1zQ29uZmlnLCBwb3B1cE1lc3RvKTtcclxuY29uc3QgdmFsaWRQcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybXNDb25maWcsIHBvcHVwUHJvZmlsZSk7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJlcihpdGVtKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xyXG4gIGRlZmF1bHRDYXJkTGlzdC5zZXRJdGVtKGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAgeyBkYXRhOiBpbml0aWFsQ2FyZHMsIHJlbmRlcmVyIH0sXHJcbiAgXCIucGxhY2VzXCJcclxuKTtcclxuZGVmYXVsdENhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XHJcblxyXG5jb25zdCB1c2VyUHJvZmlsZSA9IG5ldyBVc2VySW5mbyh7XHJcbiAgc2VsZWN0b3JOYW1lOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgc2VsZWN0b3JKb2I6IFwiLnByb2ZpbGVfX3NlY29uZC1uYW1lXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgZm9ybVByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIiwge1xyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpdGVtKSA9PiB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyhpdGVtKSxcclxufSk7XHJcblxyXG5jb25zdCBmb3JtTWVzdG8gPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF90eXBlX2NhcmRcIiwge1xyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChpdGVtKSA9PiByZW5kZXJlcihpdGVtKSxcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cFBob3RvT3BlbiA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgXCIudGVtcGxhdGVcIiwgKCkgPT4ge1xyXG4gICAgLy9jb25zdCBwb3B1cFBob3RvT3Blbj1uZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX2ltYWdlJyxpdGVtLm5hbWUsaXRlbS5saW5rKVxyXG4gICAgcG9wdXBQaG90b09wZW4ub3BlblBvcHVwKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTtcclxuICB9KTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5idG5PcGVuRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBpbmZvT2JqZWN0ID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBpbmZvT2JqZWN0Lm5hbWU7XHJcbiAgam9iSW5wdXQudmFsdWUgPSBpbmZvT2JqZWN0LmpvYjtcclxuICBmb3JtUHJvZmlsZS5vcGVuUG9wdXAoKTtcclxuICB2YWxpZFByb2ZpbGUucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy9wb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCk7XHJcblxyXG4vL2Nsb3NlUG9wdXAocG9wdXBDYXJkUGhvdG8pO1xyXG5cclxudmFsaWRNZXN0by5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG52YWxpZFByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5tZXN0b0J0bk9wZW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICB2YWxpZE1lc3RvLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGZvcm1NZXN0by5vcGVuUG9wdXAoKTtcclxufSk7XHJcbi8vYXBwZW5kQ2FyZChpbml0aWFsQ2FyZHMpXHJcbmZvcm1Qcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmZvcm1NZXN0by5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxucG9wdXBQaG90b09wZW4uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuIl0sIm5hbWVzIjpbIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfcG9wdXBTZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJrZXkiLCJ2YWx1ZSIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2VQb3B1cCIsIl90aGlzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcG9wdXBQaG90byIsIl9wb3B1cFBob3RvU3VidGl0bGUiLCJuYW1lIiwibGluayIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImZvcm1zQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9uYW1lIiwiX2ltYWdlIiwiX2hhbmRsZUNhcmRDbGljayIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0b2dnbGUiLCJfdG9nZ2xlTGlrZSIsIl9kZWxldGVDYXJkIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Zvcm1zQ29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfYnRuU2F2ZUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfZGlzYWJsZUJ1dHRvbiIsImZvckVhY2giLCJfaW5wdXRWYWxpZCIsImV2ZXJ5IiwiX3JlZiIsIl9lbmFibGVCdXR0b24iLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJjb25jYXQiLCJpZCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl90aGlzMiIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJyZXNldCIsIl90aGlzMyIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiX2Nsb3NlIiwiVXNlckluZm8iLCJzZWxlY3Rvck5hbWUiLCJzZWxlY3RvckpvYiIsIl9uYW1lUHJvZmlsZSIsIl9qb2JQcm9maWxlIiwiam9iIiwicG9wdXBNZXN0byIsInBvcHVwUHJvZmlsZSIsImJ0bk9wZW5FZGl0UHJvZmlsZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwibWVzdG9CdG5PcGVuIiwidmFsaWRNZXN0byIsInZhbGlkUHJvZmlsZSIsImNhcmRFbGVtZW50IiwicG9wdXBQaG90b09wZW4iLCJvcGVuUG9wdXAiLCJnZW5lcmF0ZUNhcmQiLCJjcmVhdGVDYXJkIiwiZGVmYXVsdENhcmRMaXN0Iiwic2V0SXRlbSIsInJlbmRlckl0ZW1zIiwidXNlclByb2ZpbGUiLCJmb3JtUHJvZmlsZSIsInNldFVzZXJJbmZvIiwiZm9ybU1lc3RvIiwiaW5mb09iamVjdCIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==